        <div class="title">Program (HAL)</div>
        <div class="step-block">
            <ul>
               <li><div class="text">On the video you can see the program that we are going to do in this lesson . When the MCU starts, all the leds blink for 3 times.</div></li>
               <li><div class="text">Every line will be in a different color, the first one in white, the second one in blue, the third one in green and the fourth one in red.</div></li>
               <li><div class="text">After the blinking there will be a row in blue color moving upwards.</div></li>
            </ul>
                    <div class="video-div"><iframe src="https://www.youtube.com/embed/MSyBh5-Im1c?rel=0" frameborder="0" allowfullscreen></iframe></div>
        </div>
        <div class="title">Steps</div>
        <div class="step-block">
            <ul>
               <li><div class="text">Run STM32CubeIDE.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/01.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/02.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Select the logical drive <b>m</b> as the directory for the <b>Workspace</b>.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/03.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Create a new project.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/04.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Select the kit.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/05.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/06.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/07.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/08.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Give it the name <b>P16_Click4x4RGB_HAL</b>.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/09.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/10.png">
            <ul>
               <li><div class="text">Here you can see the just created project.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/11.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">We are going to use the pin connected to the led LD2 (<b>PA5</b>) for the <b>DIN</b> signal to the Click.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/12.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Let&#39s check that the compiler won't apply optimizations to the assembly code generated.</div></li>
               <li><div class="text">This is important because the signals <b>timing</b> is going to be determined by the instructions generated by the compiler.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/13.png">
            <ul>
               <li><div class="text">The <b>Optimization level</b> is by default <b>None</b> . We keep it that way.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/14.png">
        </div>
        <div class="title">main.c</div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to add to <b>main.c</b> the source code that I have prepared. Here you have to be very careful because <b>main.c</b> is a file that is going to be modified by the IDE.</div></li>
               <li><div class="text">So, I have to add my source code in specific places.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/27.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to add the variables in the line 47:</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/28.png">
            <ul>
               <li><div class="text">Resulting the source code like this:</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/29.png">
            <ul>
               <li><div class="text">There will be some 8-bit unsigned integer arrays with all the colors for the leds.</div></li>
               <li><div class="text">For example, in the array <b>au8Colors</b>[] we will have the colors for the initial blinking, a row in red, next in green, next in blue and the last one in white.</div></li>
               <li><div class="text">The line <b>67</b> has the RGB colors for the <b>led 01</b>,<br>the line <b>68</b> for the <b>led 02</b> and <br>so on until the line <b>82</b> for the <b>led 16</b>. </div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>66</td>
                      <td>const uint8_t <span class="b6">au8Colors<span class="tooltiptext">Array <b>au8Colors</b></span></span>[]= {</td>
                  </tr>
                  <tr>
                      <td>67</td>
                      <td>                      <span class="b2">0xFF<span class="tooltiptext">Intensity (from 0 to 255) for the Red led of RGB led 01 (As it is 0xFF = 255, the red led lights at maximum intensity).</span></span>,<span class="b3">0x00<span class="tooltiptext">Intensity (from 0 to 255) for the Green led of RGB led 01 (As it is 0 the green led is off).</span></span>,<span class="b1">0x00<span class="tooltiptext">Intensity (from 0 to 255) for the Blue led of RGB led 01 (As it is 0 the blue led is off).</span></span>,   <span class="b4">//R,G,B Led 01<span class="tooltiptext">As there is only one intensity different from 0 (the red color), the resulting color for the led will be red.</span></span></td>
                  </tr>
                  <tr>
                      <td>68</td>
                      <td>                      0xFF,0x00,0x00,   //R,G,B Led 02</td>
                  </tr>
                  <tr>
                      <td>69</td>
                      <td>                      0xFF,0x00,0x00,   //R,G,B Led 03</td>
                  </tr>
                  <tr>
                      <td>70</td>
                      <td>                      0xFF,0x00,0x00,   //R,G,B Led 04</td>
                  </tr>
                  <tr>
                      <td>71</td>
                      <td>                      0x00,<span class="b3">0xFF<span class="tooltiptext">Intensity for the Green led of RGB led 05.</span></span>,0x00,   <span class="b5">//R,G,B Led 05<span class="tooltiptext">As there is only one intensity different from 0 (the green color), the resulting color for the led will be green.</span></span></td>
                  </tr>
                  <tr>
                      <td>72</td>
                      <td>                      0x00,0xFF,0x00,   //R,G,B Led 06</td>
                  </tr>
                  <tr>
                      <td>73</td>
                      <td>                      0x00,0xFF,0x00,   //R,G,B Led 07</td>
                  </tr>
                  <tr>
                      <td>74</td>
                      <td>                      0x00,0xFF,0x00,   //R,G,B Led 08</td>
                  </tr>
                  <tr>
                      <td>75</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Intensity for the Blue led of RGB led 09.</span></span>,   <span class="b6">//R,G,B Led 09<span class="tooltiptext">As there is only one intensity different from 0 (the blue color), the resulting color for the led will be blue.</span></span></td>
                  </tr>
                  <tr>
                      <td>76</td>
                      <td>                      0x00,0x00,0xFF,   //R,G,B Led 10</td>
                  </tr>
                  <tr>
                      <td>77</td>
                      <td>                      0x00,0x00,0xFF,   //R,G,B Led 11</td>
                  </tr>
                  <tr>
                      <td>78</td>
                      <td>                      0x00,0x00,0xFF,   //R,G,B Led 12</td>
                  </tr>
                  <tr>
                      <td>79</td>
                      <td>                      0xFF,0xFF,0xFF,   <span class="b1">//R,G,B Led 13<span class="tooltiptext">As the 3 intensities are equal, the final color for the led 13 is white.</span></span></td>
                  </tr>
                  <tr>
                      <td>80</td>
                      <td>                      0xFF,0xFF,0xFF,   //R,G,B Led 14</td>
                  </tr>
                  <tr>
                      <td>81</td>
                      <td>                      0xFF,0xFF,0xFF,   //R,G,B Led 15</td>
                  </tr>
                  <tr>
                      <td>82</td>
                      <td>                      0xFF,0xFF,0xFF    //R,G,B Led 16</td>
                  </tr>
                  <tr>
                      <td>83</td>
                      <td>                    };</td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The array <b>au8Off</b>[] switch off all the leds. All the colors are 0:</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>47</td>
                      <td>const uint8_t <span class="b6">au8Off<span class="tooltiptext">Array <b>au8Off</b></span></span>[]= {</td>
                  </tr>
                  <tr>
                      <td>48</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 01</td>
                  </tr>
                  <tr>
                      <td>49</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 02</td>
                  </tr>
                  <tr>
                      <td>50</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 03</td>
                  </tr>
                  <tr>
                      <td>51</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 04</td>
                  </tr>
                  <tr>
                      <td>52</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 05</td>
                  </tr>
                  <tr>
                      <td>53</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 06</td>
                  </tr>
                  <tr>
                      <td>54</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 07</td>
                  </tr>
                  <tr>
                      <td>55</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 08</td>
                  </tr>
                  <tr>
                      <td>56</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 09</td>
                  </tr>
                  <tr>
                      <td>57</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 10</td>
                  </tr>
                  <tr>
                      <td>58</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 11</td>
                  </tr>
                  <tr>
                      <td>59</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 12</td>
                  </tr>
                  <tr>
                      <td>60</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 13</td>
                  </tr>
                  <tr>
                      <td>61</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 14</td>
                  </tr>
                  <tr>
                      <td>62</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 15</td>
                  </tr>
                  <tr>
                      <td>63</td>
                      <td>                      0x00,0x00,0x00    //R,G,B Led 16</td>
                  </tr>
                  <tr>
                      <td>64</td>
                      <td>                    };</td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The array <b>au8Colors0</b>[] switchs on, in blue, the first row of leds. The other rows are off.</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>85</td>
                      <td>const uint8_t <span class="b6">au8Colors0<span class="tooltiptext">Array <b>au8Colors0</b></span></span>[]= {</td>
                  </tr>
                  <tr>
                      <td>86</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 01.</span></span>,   //R,G,B Led 01</td>
                  </tr>
                  <tr>
                      <td>87</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 01.</span></span>,   //R,G,B Led 02</td>
                  </tr>
                  <tr>
                      <td>88</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 03.</span></span>,   //R,G,B Led 03</td>
                  </tr>
                  <tr>
                      <td>89</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 04.</span></span>,   //R,G,B Led 04</td>
                  </tr>
                  <tr>
                      <td>90</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 05</td>
                  </tr>
                  <tr>
                      <td>91</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 06</td>
                  </tr>
                  <tr>
                      <td>92</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 07</td>
                  </tr>
                  <tr>
                      <td>93</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 08</td>
                  </tr>
                  <tr>
                      <td>94</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 09</td>
                  </tr>
                  <tr>
                      <td>95</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 10</td>
                  </tr>
                  <tr>
                      <td>96</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 11</td>
                  </tr>
                  <tr>
                      <td>97</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 12</td>
                  </tr>
                  <tr>
                      <td>98</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 13</td>
                  </tr>
                  <tr>
                      <td>99</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 14</td>
                  </tr>
                  <tr>
                      <td>100</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 15</td>
                  </tr>
                  <tr>
                      <td>101</td>
                      <td>                      0x00,0x00,0x00    //R,G,B Led 16</td>
                  </tr>
                  <tr>
                      <td>102</td>
                      <td>                    };</td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The array <b>au8Colors0</b>[] switchs on, in blue, the second row of leds. The other rows are off.</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>104</td>
                      <td>const uint8_t <span class="b6">au8Colors1<span class="tooltiptext">Array <b>au8Colors1</b></span></span>[]= {</td>
                  </tr>
                  <tr>
                      <td>105</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 01</td>
                  </tr>
                  <tr>
                      <td>106</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 02</td>
                  </tr>
                  <tr>
                      <td>107</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 03</td>
                  </tr>
                  <tr>
                      <td>108</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 04</td>
                  </tr>
                  <tr>
                      <td>109</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 05.</span></span>,   //R,G,B Led 05</td>
                  </tr>
                  <tr>
                      <td>110</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 06.</span></span>,   //R,G,B Led 06</td>
                  </tr>
                  <tr>
                      <td>111</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 07.</span></span>,   //R,G,B Led 07</td>
                  </tr>
                  <tr>
                      <td>112</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 08.</span></span>,   //R,G,B Led 08</td>
                  </tr>
                  <tr>
                      <td>113</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 09</td>
                  </tr>
                  <tr>
                      <td>114</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 10</td>
                  </tr>
                  <tr>
                      <td>115</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 11</td>
                  </tr>
                  <tr>
                      <td>116</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 12</td>
                  </tr>
                  <tr>
                      <td>117</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 13</td>
                  </tr>
                  <tr>
                      <td>118</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 14</td>
                  </tr>
                  <tr>
                      <td>119</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 15</td>
                  </tr>
                  <tr>
                      <td>120</td>
                      <td>                      0x00,0x00,0x00    //R,G,B Led 16</td>
                  </tr>
                  <tr>
                      <td>121</td>
                      <td>                    };</td>
                  </tr>
                  <tr>
                      <td>122</td>
                      <td></td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The array <b>au8Colors0</b>[] switchs on, in blue, the third row of leds. The other rows are off.</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>123</td>
                      <td>const uint8_t <span class="b6">au8Colors2<span class="tooltiptext">Array <b>au8Colors2</b></span></span>[]= {</td>
                  </tr>
                  <tr>
                      <td>124</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 01</td>
                  </tr>
                  <tr>
                      <td>125</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 02</td>
                  </tr>
                  <tr>
                      <td>126</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 03</td>
                  </tr>
                  <tr>
                      <td>127</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 04</td>
                  </tr>
                  <tr>
                      <td>128</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 05</td>
                  </tr>
                  <tr>
                      <td>129</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 06</td>
                  </tr>
                  <tr>
                      <td>130</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 07</td>
                  </tr>
                  <tr>
                      <td>131</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 08</td>
                  </tr>
                  <tr>
                      <td>132</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 09.</span></span>,   //R,G,B Led 09</td>
                  </tr>
                  <tr>
                      <td>133</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 10.</span></span>,   //R,G,B Led 10</td>
                  </tr>
                  <tr>
                      <td>134</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 11.</span></span>,   //R,G,B Led 11</td>
                  </tr>
                  <tr>
                      <td>135</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 12.</span></span>,   //R,G,B Led 12</td>
                  </tr>
                  <tr>
                      <td>136</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 13</td>
                  </tr>
                  <tr>
                      <td>137</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 14</td>
                  </tr>
                  <tr>
                      <td>138</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 15</td>
                  </tr>
                  <tr>
                      <td>139</td>
                      <td>                      0x00,0x00,0x00    //R,G,B Led 16</td>
                  </tr>
                  <tr>
                      <td>140</td>
                      <td>                    };</td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The array <b>au8Colors0</b>[] switchs on, in blue, the fourth row of leds. The other rows are off.</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>142</td>
                      <td>const uint8_t <span class="b6">au8Colors3<span class="tooltiptext">Array <b>au8Colors3</b></span></span>[]= {</td>
                  </tr>
                  <tr>
                      <td>143</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 01</td>
                  </tr>
                  <tr>
                      <td>144</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 02</td>
                  </tr>
                  <tr>
                      <td>145</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 03</td>
                  </tr>
                  <tr>
                      <td>146</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 04</td>
                  </tr>
                  <tr>
                      <td>147</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 05</td>
                  </tr>
                  <tr>
                      <td>148</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 06</td>
                  </tr>
                  <tr>
                      <td>149</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 07</td>
                  </tr>
                  <tr>
                      <td>150</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 08</td>
                  </tr>
                  <tr>
                      <td>151</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 09</td>
                  </tr>
                  <tr>
                      <td>152</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 10</td>
                  </tr>
                  <tr>
                      <td>153</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 11</td>
                  </tr>
                  <tr>
                      <td>154</td>
                      <td>                      0x00,0x00,0x00,   //R,G,B Led 12</td>
                  </tr>
                  <tr>
                      <td>155</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 13.</span></span>,   //R,G,B Led 13</td>
                  </tr>
                  <tr>
                      <td>156</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 14.</span></span>,   //R,G,B Led 14</td>
                  </tr>
                  <tr>
                      <td>157</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 15.</span></span>,   //R,G,B Led 15</td>
                  </tr>
                  <tr>
                      <td>158</td>
                      <td>                      0x00,0x00,<span class="b1">0xFF<span class="tooltiptext">Blue color for the Led 16.</span></span>    //R,G,B Led 16</td>
                  </tr>
                  <tr>
                      <td>159</td>
                      <td>                    };</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to add the source code that will run before the infinite loop. It is going to blink all the leds.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/30.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/31.png">
            <table class="source-code-table">
                  <tr>
                      <td>214</td>
                      <td>  <span class="b2">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors )<span class="tooltiptext">It sends the array <b>au8Colors</b>, that colors the first row in red, the second one in green, the third one in blue and the fourth one in white.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>215</td>
                      <td>  <span class="b1">HAL_Delay(500)<span class="tooltiptext">Wait for half a second.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>216</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>217</td>
                      <td>  <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Off )<span class="tooltiptext">It sends the array <b>au8Off</b>, that switchs off all the leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>218</td>
                      <td>  <span class="b1">HAL_Delay(500)<span class="tooltiptext">Wait for half a second.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>219</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>220</td>
                      <td>  <span class="b2">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors )<span class="tooltiptext">It sends the array <b>au8Colors</b>, that colors the first row in red, the second one in green, the third one in blue and the fourth one in white.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>221</td>
                      <td>  <span class="b1">HAL_Delay(500)<span class="tooltiptext">Wait for half a second.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>222</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>223</td>
                      <td>  <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Off )<span class="tooltiptext">It sends the array <b>au8Off</b>, that switchs off all the leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>224</td>
                      <td>  <span class="b1">HAL_Delay(500)<span class="tooltiptext">Wait for half a second.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>225</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>226</td>
                      <td>  <span class="b2">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors )<span class="tooltiptext">It sends the array <b>au8Colors</b>, that colors the first row in red, the second one in green, the third one in blue and the fourth one in white.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>227</td>
                      <td>  <span class="b1">HAL_Delay(500)<span class="tooltiptext">Wait for half a second.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>228</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>229</td>
                      <td>  <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Off )<span class="tooltiptext">It sends the array <b>au8Off</b>, that switchs off all the leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>230</td>
                      <td>  <span class="b1">HAL_Delay(500)<span class="tooltiptext">Wait for half a second.</span></span>;</td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The same operation could have been implemented with a for loop.</div></li>
            </ul>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to add the source code that will run inside the infinite loop.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/32.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/33.png">
            <table class="source-code-table">
                  <tr>
                      <td>232</td>
                      <td>  while (1)</td>
                  </tr>
                  <tr>
                      <td>233</td>
                      <td>  {</td>
                  </tr>
                  <tr>
                      <td>234</td>
                      <td>      <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors0 )<span class="tooltiptext">It sends the array <b>au8Colors0</b>, that switchs on the <b>first</b> row in blue, switching off the other leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>235</td>
                      <td>      <span class="b1">HAL_Delay(200)<span class="tooltiptext">Wait for 200 ms.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>236</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>237</td>
                      <td>      <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors1 )<span class="tooltiptext">It sends the array <b>au8Colors1</b>, that switchs on the <b>second</b> row in blue, switching off the other leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>238</td>
                      <td>      <span class="b1">HAL_Delay(200)<span class="tooltiptext">Wait for 200 ms.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>239</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>240</td>
                      <td>      <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors2 )<span class="tooltiptext">It sends the array <b>au8Colors2</b>, that switchs on the <b>third</b> row in blue, switching off the other leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>241</td>
                      <td>      <span class="b1">HAL_Delay(200)<span class="tooltiptext">Wait for 200 ms.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>242</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>243</td>
                      <td>      <span class="b6">AppClick4x4RGB_sendColors( (uint8_t*) au8Colors3 )<span class="tooltiptext">It sends the array <b>au8Colors3</b>, that switchs on the <b>fourth</b> row in blue, switching off the other leds.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>244</td>
                      <td>      <span class="b1">HAL_Delay(200)<span class="tooltiptext">Wait for 200 ms.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>245</td>
                      <td>    /* USER CODE END WHILE */</td>
                  </tr>
                  <tr>
                      <td>246</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>247</td>
                      <td>    /* USER CODE BEGIN 3 */</td>
                  </tr>
                  <tr>
                      <td>248</td>
                      <td>  }</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">And finally, you have to include the file <b>AppClick4x4RGB.h</b> to have access to the function <b>AppClick4x4RGB_sendColors</b>.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/34.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/35.png">
        </div>
        <div class="title">AppClick4x4RGB.c|h</div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to add 2 empty files to the project : <b>AppClick4x4RGB.c</b> and <b>AppClick4x4RGB.h</b>.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/15.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/17.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/18.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/19.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/20.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/21.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/22.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to copy to <b>AppClick4x4RGB.h</b> the source code that I have prepared.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/23.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/24.png">
            <table class="source-code-table">
                  <tr>
                      <td>25</td>
                      <td>/////////////////////////////////////////////////////////////</td>
                  </tr>
                  <tr>
                      <td>26</td>
                      <td>// Global function definitions</td>
                  </tr>
                  <tr>
                      <td>27</td>
                      <td>/////////////////////////////////////////////////////////////</td>
                  </tr>
                  <tr>
                      <td>28</td>
                      <td><span class="b2">extern<span class="tooltiptext">As the function <b>AppClick4x4RGB_sendColors</b> is going to be used in other files ( in <b>main.c</b> ) we must make extern its declaration.</span></span> void AppClick4x4RGB_sendColors( uint8_t* _au8Colors );</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">I am going to copy to <b>AppClick4x4RGB.c</b> the source code that I have prepared.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/25.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/26.png">
            <table class="source-code-table">
                  <tr>
                      <td>78</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>79</td>
                      <td>//  AppClick4x4RGB_sendColors</td>
                  </tr>
                  <tr>
                      <td>80</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>81</td>
                      <td>void <span class="b1">AppClick4x4RGB_sendColors<span class="tooltiptext">The function <b>AppClick4x4RGB_sendColors</b> sends the array <b>_au8Colors</b> to the 16 RGB leds.</span></span>(    uint8_t* _au8Colors)</td>
                  </tr>
                  <tr>
                      <td>82</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>83</td>
                      <td>    for(int iLed = 0;</td>
                  </tr>
                  <tr>
                      <td>84</td>
                      <td>            iLed &lt <span class="b2">3 * 16<span class="tooltiptext">3 bytes have to be sent to each led , therefore,  in total 3 bytes * 16 leds =  <b>48 bytes</b> have to be sent.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>85</td>
                      <td>            iLed <span class="b3">+= 3<span class="tooltiptext">On each iteration of the loop 3 bytes will be sent, that is s why the variable <b>iLed</b> is incremented by 3.</span></span>)</td>
                  </tr>
                  <tr>
                      <td>86</td>
                      <td>    {</td>
                  </tr>
                  <tr>
                      <td>87</td>
                      <td>        uint8_t u8Green   =    _au8Colors[<span class="b4">iLed + 1<span class="tooltiptext">As we have seen before, the green color is the second value (out of the 3 per line). For that we add a 1 to access it. </span></span>];</td>
                  </tr>
                  <tr>
                      <td>88</td>
                      <td>        SendByte( <span class="b5">u8Green<span class="tooltiptext">As we will see later on, the WS2812 has to receive 3 bytes with the intensity of the leds. The first one is for the green color.</span></span> );</td>
                  </tr>
                  <tr>
                      <td>89</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>90</td>
                      <td>        uint8_t u8Red     =    _au8Colors[iLed];</td>
                  </tr>
                  <tr>
                      <td>91</td>
                      <td>        SendByte( <span class="b5">u8Red<span class="tooltiptext">The second byte to send is the red color.</span></span> );</td>
                  </tr>
                  <tr>
                      <td>92</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>93</td>
                      <td>        uint8_t u8Blue    =    _au8Colors[<span class="b4">iLed + 2<span class="tooltiptext">As the blue color is the third value (out of the 3 per line), we add a 2 to access it.</span></span>];</td>
                  </tr>
                  <tr>
                      <td>94</td>
                      <td>        SendByte( <span class="b5">u8Blue<span class="tooltiptext">The third byte to send is the blue color.</span></span> );</td>
                  </tr>
                  <tr>
                      <td>95</td>
                      <td>    }</td>
                  </tr>
                  <tr>
                      <td>96</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">This is a screenshot of the datasheet (that you can download in the download section) of the WS2812.</div></li>
               <li><div class="text">As you can see, first, we have to send the 8 bits for the green color (G), next, the 8 bits for the red color (R) and finally the 8 bits for the blue color (B).</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/42.png">
        </div>
        <div class="step-block">
            <table class="source-code-table">
                  <tr>
                      <td>42</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>43</td>
                      <td>//  SendByte</td>
                  </tr>
                  <tr>
                      <td>44</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>45</td>
                      <td>void <span class="b1">SendByte<span class="tooltiptext">The function <b>SendByte</b> walks through all the bits of the byte <b>_u8Data</b> and call the functions <b>write0</b> and <b>write1</b> to send it over the pin <b>PA5</b>.</span></span>( uint8_t _u8Data )</td>
                  </tr>
                  <tr>
                      <td>46</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>47</td>
                      <td>    for(int i=<span class="b2">0x80<span class="tooltiptext">The variable <b>i</b> is going to be the mask to iterate over the bits of the byte, from the bit 7 (value <b>0x80</b>) until the bit 0 ( value <b>0x01</b>).</span></span>;</td>
                  </tr>
                  <tr>
                      <td>48</td>
                      <td>            <span class="b3">i != 0<span class="tooltiptext">The loop will end when the variable <b>i</b> is 0.</span></span>;</td>
                  </tr>
                  <tr>
                      <td>49</td>
                      <td>            i = i <span class="b4">&gt&gt 1<span class="tooltiptext">Shift the mask one bit to the right.</span></span>)</td>
                  </tr>
                  <tr>
                      <td>50</td>
                      <td>    {</td>
                  </tr>
                  <tr>
                      <td>51</td>
                      <td>        if( ( _u8Data & i) != 0 )</td>
                  </tr>
                  <tr>
                      <td>52</td>
                      <td>        {</td>
                  </tr>
                  <tr>
                      <td>53</td>
                      <td>            <span class="b5">write1<span class="tooltiptext">Generate a <b>1</b> on the pin <b>PA5</b>.</span></span>();</td>
                  </tr>
                  <tr>
                      <td>54</td>
                      <td>        }</td>
                  </tr>
                  <tr>
                      <td>55</td>
                      <td>        else</td>
                  </tr>
                  <tr>
                      <td>56</td>
                      <td>        {</td>
                  </tr>
                  <tr>
                      <td>57</td>
                      <td>            <span class="b6">write0<span class="tooltiptext">Generate a <b>0</b> on the pin <b>PA5</b>.</span></span>();</td>
                  </tr>
                  <tr>
                      <td>58</td>
                      <td>        }</td>
                  </tr>
                  <tr>
                      <td>59</td>
                      <td>    }</td>
                  </tr>
                  <tr>
                      <td>60</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">These are the signals that we have to generate to send a <b>0</b>, a <b>1</b> and a <b>reset</b>.</div></li>
               <li><div class="text">The reset signal has to be generated before sending the sequence of colors for the leds. The pin <b>PA5</b> has to be <b>0</b> for at least <b>50us</b>. </div></li>
               <li><div class="text">The reset signal is going to be implemented simply doing a delay with the function <b>HAL_Delay</b>.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/43.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Let&#39s see how to generate a 1.</div></li>
               <li><div class="text">We are going to write 4 times to the register <b>BSRR</b> to set a 1 on the pin <b>PA5</b>. These 4 writes will last around 0.7 us. According to the WS2812 datasheet, there is a tolerance of 0.15 us.</div></li>
               <li><div class="text">Next, we write to the register <b>BSRR</b> to clear the pin <b>PA5</b>.</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>45</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>46</td>
                      <td>//  write1</td>
                  </tr>
                  <tr>
                      <td>47</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>48</td>
                      <td>void write1()</td>
                  </tr>
                  <tr>
                      <td>49</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>50</td>
                      <td>      GPIOA-&gtBSRR   |=  <span class="b5">GPIO_BSRR_BS_5<span class="tooltiptext">We set the bit 5 (<b>GPIO_BSRR_BS_5</b>) of the register <b>BSRR</b> of the port A in order to set a 1 on the pin <b>PA5</b>.</span></span>;         //Set PA5</td>
                  </tr>
                  <tr>
                      <td>51</td>
                      <td>      GPIOA-&gtBSRR   |=  GPIO_BSRR_BS_5;         //Set PA5</td>
                  </tr>
                  <tr>
                      <td>52</td>
                      <td>      GPIOA-&gtBSRR   |=  GPIO_BSRR_BS_5;         //Set PA5</td>
                  </tr>
                  <tr>
                      <td>53</td>
                      <td>      GPIOA-&gtBSRR   |=  GPIO_BSRR_BS_5;         //Set PA5</td>
                  </tr>
                  <tr>
                      <td>54</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>55</td>
                      <td>      GPIOA-&gtBSRR   |=  <span class="b6">GPIO_BSRR_BR_5<span class="tooltiptext">We set the bit 21 (<b>GPIO_BSRR_BR_5</b>) of the register <b>BSRR</b> of the port A in order to set a 0 on the pin <b>PA5</b>.</span></span>;         //Clear PA5</td>
                  </tr>
                  <tr>
                      <td>56</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Let&#39s see how to generate a 0.</div></li>
               <li><div class="text">We are going to write 2 times to the register <b>BSRR</b> to set a 1 on the pin <b>PA5</b>. These 2 writes will last around 0.35 us. According to the WS2812 datasheet, there is a tolerance of 0.15 us.</div></li>
               <li><div class="text">Next, we write to the register <b>BSRR</b> to clear the pin <b>PA5</b>.</div></li>
            </ul>
            <table class="source-code-table">
                  <tr>
                      <td>34</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>35</td>
                      <td>//  write0</td>
                  </tr>
                  <tr>
                      <td>36</td>
                      <td>//  ----------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>37</td>
                      <td>void write0()</td>
                  </tr>
                  <tr>
                      <td>38</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>39</td>
                      <td>      GPIOA-&gtBSRR   |=  <span class="b5">GPIO_BSRR_BS_5<span class="tooltiptext">We set the bit 5 (<b>GPIO_BSRR_BS_5</b>) of the register <b>BSRR</b> of the port A in order to set a 1 on the pin <b>PA5</b>.</span></span>;         //Set PA5</td>
                  </tr>
                  <tr>
                      <td>40</td>
                      <td>      GPIOA-&gtBSRR   |=  GPIO_BSRR_BS_5;         //Set PA5</td>
                  </tr>
                  <tr>
                      <td>41</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>42</td>
                      <td>      GPIOA-&gtBSRR   |=  <span class="b6">GPIO_BSRR_BR_5<span class="tooltiptext">We set the bit 21 (<b>GPIO_BSRR_BR_5</b>) of the register <b>BSRR</b> of the port A in order to set a 0 on the pin <b>PA5</b>.</span></span>;         //Clear PA5</td>
                  </tr>
                  <tr>
                      <td>43</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">You can build and debug the program.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/36.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/37.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/38.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/39.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/40.png">
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/41.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">These are 2 screenshots, with the oscilloscope, of a 0 on the DIN signal </div></li>
               <li><div class="text">The ON time is 0.44 us.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/44.png">
            <ul>
               <li><div class="text">The OFF time is 1 us.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/45.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">These are 2 screenshots of a 1 on the DIN signal </div></li>
               <li><div class="text">The ON time is 0.85 us.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/46.png">
            <ul>
               <li><div class="text">The OFF time is 1 us.</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion05/L36_Program_HAL/img/47.png">
        </div>
        <div class="section">Downloads</div>
        <div class="step-block">
            <ul>
               <li><a target="_blank" href="../courses/04_STM32F0/Seccion05/L36_Program_HAL/downloads/WS2812.pdf">WS2812 datasheet</a></li>
            </ul>
        </div>
