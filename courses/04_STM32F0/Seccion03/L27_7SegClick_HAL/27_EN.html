        <div class="title">Program (HAL)</div>
        <div class="step-block">
            <ul>
               <li><div class="text">On the following video you can see the program, that I have written using the HAL, running</div></li>
            </ul>
                    <div class="video-div"><iframe src="https://www.youtube.com/embed/I9-fs8x0o_w?rel=0" frameborder="0" allowfullscreen></iframe></div>
            <ul>
               <li><div class="text">Let&#39s see how the program is</div></li>
            </ul>
        </div>
        <div class="section">Steps</div>
        <div class="step-block">
            <ul>
               <li><div class="text">Run Atollic TrueStudio</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/01.png">
            <ul>
               <li><div class="text">Select the logical drive <b>k</b> for the workspace</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/02.png">
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/03.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">The name of the project that I have created using the HAL is <b>P12_Click7Seg_HAL</b></div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/04.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Let&#39s see the code I have added to <b>main.c</b></div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/05.png">
            <table class="source-code-table">
                  <tr>
                      <td>65</td>
                      <td>  //AppGpio configuration</td>
                  </tr>
                  <tr>
                      <td>66</td>
                      <td>  AppGpio_Config();</td>
                  </tr>
                  <tr>
                      <td>67</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>68</td>
                      <td>  //Enable PWM</td>
                  </tr>
                  <tr>
                      <td>69</td>
                      <td>  <span class="b1">AppClick7Seg_EnablePWM<span class="tooltiptext"> In this lesson we are not going to use PWM but a digital output that we will set to high level in order to have the transistors in the Click board always driving, later on the course we will come back to use PWM.</span></span>();</td>
                  </tr>
                  <tr>
                      <td>70</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>71</td>
                      <td>  /* Infinite loop */</td>
                  </tr>
                  <tr>
                      <td>72</td>
                      <td>  uint8_t <span class="b2">u8Number<span class="tooltiptext"> <b>u8Number</b> is a variable that is going to be incremented continuously from 0 to 99 and is going to be shown in the Click.</span></span> = 0;</td>
                  </tr>
                  <tr>
                      <td>73</td>
                      <td>  while (1)</td>
                  </tr>
                  <tr>
                      <td>74</td>
                      <td>  {</td>
                  </tr>
                  <tr>
                      <td>75</td>
                      <td>      <span class="b3">AppClick7Seg_ShowNumber<span class="tooltiptext"> This function shows the value of the variable <b>u8Number</b> in the Click displays</span></span>(u8Number);</td>
                  </tr>
                  <tr>
                      <td>76</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>77</td>
                      <td>      <span class="b4">u8Number<span class="tooltiptext"> Increments the value of the variable <b>u8Number</b> by 1</span></span>++;</td>
                  </tr>
                  <tr>
                      <td>78</td>
                      <td>      if(<span class="b5">u8Number<span class="tooltiptext"> If the value of the variable <b>u8Number</b> is greater than 99 the variable is set to 0</span></span> &gt99)</td>
                  </tr>
                  <tr>
                      <td>79</td>
                      <td>          u8Number = 0;</td>
                  </tr>
                  <tr>
                      <td>80</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>81</td>
                      <td>      <span class="b6">HAL_Delay(25)<span class="tooltiptext"> Wait for 25 milliseconds</span></span>;</td>
                  </tr>
                  <tr>
                      <td>82</td>
                      <td>  }</td>
                  </tr>
                  <tr>
                      <td>83</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">The code for <b>AppGpio.c</b></div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/06.png">
            <table class="source-code-table">
                  <tr>
                      <td>37</td>
                      <td>void AppGpio_Config(void)</td>
                  </tr>
                  <tr>
                      <td>38</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>39</td>
                      <td>    GPIO_InitTypeDef  GPIO_InitStruct;</td>
                  </tr>
                  <tr>
                      <td>40</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>41</td>
                      <td>    //PWM</td>
                  </tr>
                  <tr>
                      <td>42</td>
                      <td>    <span class="b1">APP_GPIO_PWM_CLOCK();<span class="tooltiptext"> Enable the clock for the pin <b>Pwm</b> (see file <b>AppGpio.h</b>)</span></span></td>
                  </tr>
                  <tr>
                      <td>43</td>
                      <td>    GPIO_InitStruct.Mode  = <span class="b2">GPIO_MODE_OUTPUT_PP<span class="tooltiptext"> Configured as digital output</span></span>;</td>
                  </tr>
                  <tr>
                      <td>44</td>
                      <td>    GPIO_InitStruct.Pull  = GPIO_PULLUP;</td>
                  </tr>
                  <tr>
                      <td>45</td>
                      <td>    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;</td>
                  </tr>
                  <tr>
                      <td>46</td>
                      <td>    GPIO_InitStruct.Pin   = <span class="b3">APP_GPIO_PWM_PIN<span class="tooltiptext"> Constant defined in the file <b>AppGpio.h</b> that is the pin number</span></span>;</td>
                  </tr>
                  <tr>
                      <td>47</td>
                      <td>    <span class="b5">HAL_GPIO_Init<span class="tooltiptext"> Function from the <b>HAL</b> library that configures the pin</span></span>(<span class="b4">APP_GPIO_PWM_PORT<span class="tooltiptext"> Constant defined in the file <b>AppGpio.h</b> that is the port number</span></span>, &GPIO_InitStruct);</td>
                  </tr>
                  <tr>
                      <td>48</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>49</td>
                      <td>    //LATCH</td>
                  </tr>
                  <tr>
                      <td>50</td>
                      <td>    <span class="b6">APP_GPIO_LATCH_CLOCK()<span class="tooltiptext"> Enable the clock for the pin <b>Latch</b> (see file <b>AppGpio.h</b>)</span></span>;</td>
                  </tr>
                  <tr>
                      <td>51</td>
                      <td>    GPIO_InitStruct.Mode  = <span class="b1">GPIO_MODE_OUTPUT_PP<span class="tooltiptext"> Configured as digital output</span></span>;</td>
                  </tr>
                  <tr>
                      <td>52</td>
                      <td>    GPIO_InitStruct.Pull  = GPIO_PULLUP;</td>
                  </tr>
                  <tr>
                      <td>53</td>
                      <td>    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;</td>
                  </tr>
                  <tr>
                      <td>54</td>
                      <td>    GPIO_InitStruct.Pin   = <span class="b2">APP_GPIO_LATCH_PIN;<span class="tooltiptext"> Constant defined in the file <b>AppGpio.h</b> that is the pin number</span></span></td>
                  </tr>
                  <tr>
                      <td>55</td>
                      <td>    <span class="b4">HAL_GPIO_Init<span class="tooltiptext"> Function from the <b>HAL</b> library that configures the pin</span></span>(<span class="b3">APP_GPIO_LATCH_PORT<span class="tooltiptext"> Constant defined in the file <b>AppGpio.h</b> that is the port number</span></span>, &GPIO_InitStruct);</td>
                  </tr>
                  <tr>
                      <td>56</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>57</td>
                      <td>    //CLOCK</td>
                  </tr>
                  <tr>
                      <td>58</td>
                      <td>    <span class="b5">APP_GPIO_CLOCK_CLOCK();<span class="tooltiptext"> Enable the clock for the pin <b>Clock</b> (see file <b>AppGpio.h</b>)</span></span></td>
                  </tr>
                  <tr>
                      <td>59</td>
                      <td>    GPIO_InitStruct.Mode  = <span class="b6">GPIO_MODE_OUTPUT_PP<span class="tooltiptext"> Configured as digital output</span></span>;</td>
                  </tr>
                  <tr>
                      <td>60</td>
                      <td>    GPIO_InitStruct.Pull  = GPIO_PULLUP;</td>
                  </tr>
                  <tr>
                      <td>61</td>
                      <td>    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;</td>
                  </tr>
                  <tr>
                      <td>62</td>
                      <td>    GPIO_InitStruct.Pin   = APP_GPIO_CLOCK_PIN;</td>
                  </tr>
                  <tr>
                      <td>63</td>
                      <td>    <span class="b2">HAL_GPIO_Init<span class="tooltiptext"> Function from the <b>HAL</b> library that configures the pin</span></span>(<span class="b1">APP_GPIO_CLOCK_PORT<span class="tooltiptext"> Constant defined in the file <b>AppGpio.h</b> that is the port number</span></span>, &GPIO_InitStruct);</td>
                  </tr>
                  <tr>
                      <td>64</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>65</td>
                      <td>    //DATA</td>
                  </tr>
                  <tr>
                      <td>66</td>
                      <td>    <span class="b3">APP_GPIO_DATA_CLOCK()<span class="tooltiptext"> Enable the clock for the pin <b>Data</b> (see file <b>AppGpio.h</b>)</span></span>;</td>
                  </tr>
                  <tr>
                      <td>67</td>
                      <td>    GPIO_InitStruct.Mode  = <span class="b4">GPIO_MODE_OUTPUT_PP<span class="tooltiptext"> Configured as digital output</span></span>;</td>
                  </tr>
                  <tr>
                      <td>68</td>
                      <td>    GPIO_InitStruct.Pull  = GPIO_PULLUP;</td>
                  </tr>
                  <tr>
                      <td>69</td>
                      <td>    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;</td>
                  </tr>
                  <tr>
                      <td>70</td>
                      <td>    GPIO_InitStruct.Pin   = APP_GPIO_DATA_PIN;</td>
                  </tr>
                  <tr>
                      <td>71</td>
                      <td>    <span class="b6">HAL_GPIO_Init<span class="tooltiptext"> Function from the <b>HAL</b> library that configures the pin</span></span>(<span class="b5">APP_GPIO_DATA_PORT<span class="tooltiptext"> Constant defined in the file <b>AppGpio.h</b> that is the port number</span></span>, &GPIO_InitStruct);</td>
                  </tr>
                  <tr>
                      <td>72</td>
                      <td>}</td>
                  </tr>
            </table>
            <ul>
               <li><div class="text">The code for <b>AppGpio.h</b></div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/06a.png">
            <table class="source-code-table">
                  <tr>
                      <td>12</td>
                      <td>///////////////////////////////////////////////////////////////</td>
                  </tr>
                  <tr>
                      <td>13</td>
                      <td>// Pre-processor symbols/macros ('define')                             </td>
                  </tr>
                  <tr>
                      <td>14</td>
                      <td>///////////////////////////////////////////////////////////////</td>
                  </tr>
                  <tr>
                      <td>15</td>
                      <td>#define <span class="b1">APP_GPIO_PWM_CLOCK<span class="tooltiptext"> Enable the clock of the GPIO Port C</span></span>         __HAL_RCC_GPIOC_CLK_ENABLE</td>
                  </tr>
                  <tr>
                      <td>16</td>
                      <td>#define APP_GPIO_PWM_PORT          GPIOC</td>
                  </tr>
                  <tr>
                      <td>17</td>
                      <td>#define APP_GPIO_PWM_PIN           GPIO_PIN_7</td>
                  </tr>
                  <tr>
                      <td>18</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>19</td>
                      <td>#define <span class="b2">APP_GPIO_LATCH_CLOCK<span class="tooltiptext"> Enable the clock of the GPIO Port A</span></span>       __HAL_RCC_GPIOA_CLK_ENABLE</td>
                  </tr>
                  <tr>
                      <td>20</td>
                      <td>#define APP_GPIO_LATCH_PORT        GPIOA</td>
                  </tr>
                  <tr>
                      <td>21</td>
                      <td>#define APP_GPIO_LATCH_PIN         GPIO_PIN_9</td>
                  </tr>
                  <tr>
                      <td>22</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>23</td>
                      <td>#define <span class="b3">APP_GPIO_CLOCK_CLOCK<span class="tooltiptext"> Enable the clock of the GPIO Port A</span></span>       __HAL_RCC_GPIOA_CLK_ENABLE</td>
                  </tr>
                  <tr>
                      <td>24</td>
                      <td>#define APP_GPIO_CLOCK_PORT        GPIOA</td>
                  </tr>
                  <tr>
                      <td>25</td>
                      <td>#define APP_GPIO_CLOCK_PIN         GPIO_PIN_8</td>
                  </tr>
                  <tr>
                      <td>26</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>27</td>
                      <td>#define <span class="b4">APP_GPIO_DATA_CLOCK<span class="tooltiptext"> Enable the clock of the GPIO Port A</span></span>        __HAL_RCC_GPIOA_CLK_ENABLE</td>
                  </tr>
                  <tr>
                      <td>28</td>
                      <td>#define APP_GPIO_DATA_PORT         GPIOA</td>
                  </tr>
                  <tr>
                      <td>29</td>
                      <td>#define APP_GPIO_DATA_PIN          GPIO_PIN_10</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">And the code for <b>AppClick7Seg.c</b></div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/07.png">
            <ul>
               <li><div class="text">You can see in the following diagram what value has to be sent to the HC595 outputs to show the different numbers</div></li>
               <li><div class="text">For example for <b>0</b> all outputs but <b>Q0</b> and <b>Q7</b> have to be activated</div></li>
               <li><div class="text">For <b>1</b> only the outputs <b>Q1</b> and <b>Q3</b> have to be activated</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/0-4.png">
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/5-9.png">
            <table class="source-code-table">
                  <tr>
                      <td>19</td>
                      <td>///////////////////////////////////////////////////////////////</td>
                  </tr>
                  <tr>
                      <td>20</td>
                      <td>// Local variable definitions ('static')                                     </td>
                  </tr>
                  <tr>
                      <td>21</td>
                      <td>///////////////////////////////////////////////////////////////</td>
                  </tr>
                  <tr>
                      <td>22</td>
                      <td>static uint8_t <span class="b1">au8CodedDigits<span class="tooltiptext"> The array <b>au8CodedDigits</b> contains the values to send in order to show the different numbers.<br>For example, to show the number 1 the value to send is <b>au8CodedDigits[1]</b>.</span></span>[] = { 0x7E,    //0</td>
                  </tr>
                  <tr>
                      <td>23</td>
                      <td>                                    0x0A,    //1</td>
                  </tr>
                  <tr>
                      <td>24</td>
                      <td>                                    0xB6,    //2</td>
                  </tr>
                  <tr>
                      <td>25</td>
                      <td>                                    0x9E,    //3</td>
                  </tr>
                  <tr>
                      <td>26</td>
                      <td>                                    0xCA,    //4</td>
                  </tr>
                  <tr>
                      <td>27</td>
                      <td>                                    0xDC,    //5</td>
                  </tr>
                  <tr>
                      <td>28</td>
                      <td>                                    0xFC,    //6</td>
                  </tr>
                  <tr>
                      <td>29</td>
                      <td>                                    0x0E,    //7</td>
                  </tr>
                  <tr>
                      <td>30</td>
                      <td>                                    0xFE,    //8</td>
                  </tr>
                  <tr>
                      <td>31</td>
                      <td>                                    0xCE};   //9</td>
                  </tr>
                  <tr>
                      <td>32</td>
                      <td></td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">More source code from <b>AppClick7Seg.c</b>:</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/08.png">
            <table class="source-code-table">
                  <tr>
                      <td>45</td>
                      <td>//  -----------------------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>46</td>
                      <td>//  AppClick7Seg_EnablePWM</td>
                  </tr>
                  <tr>
                      <td>47</td>
                      <td>//  -----------------------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>48</td>
                      <td>void <span class="b1">AppClick7Seg_EnablePWM<span class="tooltiptext"> Activate (1) the PWM digital output to activate the transistors in the Click board</span></span>(void)</td>
                  </tr>
                  <tr>
                      <td>49</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>50</td>
                      <td>    HAL_GPIO_WritePin(APP_GPIO_PWM_PORT,</td>
                  </tr>
                  <tr>
                      <td>51</td>
                      <td>                      APP_GPIO_PWM_PIN,</td>
                  </tr>
                  <tr>
                      <td>52</td>
                      <td>                      GPIO_PIN_SET);</td>
                  </tr>
                  <tr>
                      <td>53</td>
                      <td>}</td>
                  </tr>
                  <tr>
                      <td>54</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>55</td>
                      <td>//  -----------------------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>56</td>
                      <td>//  GenerateLatch</td>
                  </tr>
                  <tr>
                      <td>57</td>
                      <td>//  -----------------------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>58</td>
                      <td>void <span class="b2">GenerateLatch<span class="tooltiptext"> Generate a positive pulse on the Latch signal</span></span>(void)</td>
                  </tr>
                  <tr>
                      <td>59</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>60</td>
                      <td>    HAL_GPIO_WritePin(  APP_GPIO_LATCH_PORT,</td>
                  </tr>
                  <tr>
                      <td>61</td>
                      <td>                        APP_GPIO_LATCH_PIN,</td>
                  </tr>
                  <tr>
                      <td>62</td>
                      <td>                        <span class="b3">GPIO_PIN_SET<span class="tooltiptext"> Set the Latch pin to 1</span></span>);</td>
                  </tr>
                  <tr>
                      <td>63</td>
                      <td>    HAL_GPIO_WritePin(  APP_GPIO_LATCH_PORT,</td>
                  </tr>
                  <tr>
                      <td>64</td>
                      <td>                        APP_GPIO_LATCH_PIN,</td>
                  </tr>
                  <tr>
                      <td>65</td>
                      <td>                        <span class="b4">GPIO_PIN_RESET<span class="tooltiptext"> Set the Latch pin to 0</span></span>);</td>
                  </tr>
                  <tr>
                      <td>66</td>
                      <td>}</td>
                  </tr>
                  <tr>
                      <td>67</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>68</td>
                      <td>//  -----------------------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>69</td>
                      <td>//  Generate01</td>
                  </tr>
                  <tr>
                      <td>70</td>
                      <td>//  -----------------------------------------------------------</td>
                  </tr>
                  <tr>
                      <td>71</td>
                      <td>void <span class="b6">Generate01<span class="tooltiptext"> Puts a 1 or a 0 on the data pin and afterwords generates a positive pulse on the Clock pin.</span></span>(GPIO_PinState <span class="b5">_pinState<span class="tooltiptext"> Value to output on the data pin</span></span>)</td>
                  </tr>
                  <tr>
                      <td>72</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>73</td>
                      <td>    HAL_GPIO_WritePin(  APP_GPIO_DATA_PORT,</td>
                  </tr>
                  <tr>
                      <td>74</td>
                      <td>                        APP_GPIO_DATA_PIN,</td>
                  </tr>
                  <tr>
                      <td>75</td>
                      <td>                        <span class="b1">_pinState<span class="tooltiptext"> Write to the data pin</span></span>);</td>
                  </tr>
                  <tr>
                      <td>76</td>
                      <td>    HAL_GPIO_WritePin(  APP_GPIO_CLOCK_PORT,</td>
                  </tr>
                  <tr>
                      <td>77</td>
                      <td>                        APP_GPIO_CLOCK_PIN,</td>
                  </tr>
                  <tr>
                      <td>78</td>
                      <td>                        <span class="b2">GPIO_PIN_SET<span class="tooltiptext"> Write a 1 to the Clock pin</span></span>);</td>
                  </tr>
                  <tr>
                      <td>79</td>
                      <td>    HAL_GPIO_WritePin(  APP_GPIO_CLOCK_PORT,</td>
                  </tr>
                  <tr>
                      <td>80</td>
                      <td>                        APP_GPIO_CLOCK_PIN,</td>
                  </tr>
                  <tr>
                      <td>81</td>
                      <td>                        <span class="b3">GPIO_PIN_RESET<span class="tooltiptext"> Write a 0 to the Clock pin</span></span>);</td>
                  </tr>
                  <tr>
                      <td>82</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">More source code from <b>AppClick7Seg.c</b>:</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/09.png">
            <table class="source-code-table">
                  <tr>
                      <td>115</td>
                      <td>void <span class="b1">AppClick7Seg_ShowNumber<span class="tooltiptext"> Show the number <b>_u8Number</b> on the 7-segment displays of the Click, for this explanation let&#39s assume that <b>_u8Number</b> is 27.</span></span>(uint8_t _u8Number)</td>
                  </tr>
                  <tr>
                      <td>116</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>117</td>
                      <td>    <span class="b2">ShowDigit<span class="tooltiptext"> See the explanation of this function on the next listing</span></span>(<span class="b3">_u8Number % 10<span class="tooltiptext"> In order to get the ones of the number, the modulo operator is used, this way we get the number 7</span></span>);</td>
                  </tr>
                  <tr>
                      <td>118</td>
                      <td>    <span class="b4">ShowDigit<span class="tooltiptext"> See the explanation of this function on the next listing</span></span>(<span class="b5">_u8Number / 10<span class="tooltiptext"> The integer division of 27 by 10 produces the tens (2)</span></span>);</td>
                  </tr>
                  <tr>
                      <td>119</td>
                      <td>    <span class="b6">GenerateLatch<span class="tooltiptext"> Generate the latch to update the outputs of the 2 HC595</span></span>();</td>
                  </tr>
                  <tr>
                      <td>120</td>
                      <td>}</td>
                  </tr>
            </table>
            <table class="source-code-table">
                  <tr>
                      <td>106</td>
                      <td>void <span class="b1">ShowDigit<span class="tooltiptext"> This function gets the byte (to load to the HC595) corresponding to the number to show on the display and call the function <b>GenerateCode</b></span></span>(uint8_t _u8Digit)</td>
                  </tr>
                  <tr>
                      <td>107</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>108</td>
                      <td>    uint8_t    <span class="b2">u8Code<span class="tooltiptext"> If the digit to show (<b>_u8Digit</b>) is 7 the value to load <b>u8Code</b> to the HC595 is 0x0E. If <b>_u8Digit</b> is 2 <b>u8Code</b> will be 0xB6</span></span>    =    au8CodedDigits[_u8Digit];</td>
                  </tr>
                  <tr>
                      <td>109</td>
                      <td>    <span class="b3">GenerateCode<span class="tooltiptext"> See the explanation of this function on the next listing</span></span>(u8Code);</td>
                  </tr>
                  <tr>
                      <td>110</td>
                      <td>}</td>
                  </tr>
            </table>
            <table class="source-code-table">
                  <tr>
                      <td>87</td>
                      <td>void <span class="b1">GenerateCode<span class="tooltiptext"> This function has a loop that walks through the 8 bits of the value <b>_u8Code</b> to load to the HC595 and calls the function <b>Generate01</b> to output it on the data pin and to generate a pulse on the clock pin</span></span>(uint8_t _u8Code)</td>
                  </tr>
                  <tr>
                      <td>88</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>89</td>
                      <td>    uint8_t    <span class="b2">u8Mask<span class="tooltiptext"> Mask with an initial value of 0x80 that is for walking throught the bits of <b>_u8Code</b>. In the loop this variable will be <br>0x80 (1000 0000)<br>0x40 (0100 0000)<br>0x20 (0010 0000)<br>...<br>0x02 (0000 0010)<br>0x01 (0000 0001) </span></span>   =    0x80;</td>
                  </tr>
                  <tr>
                      <td>90</td>
                      <td>    uint8_t    u8Idx    =    0;</td>
                  </tr>
                  <tr>
                      <td>91</td>
                      <td>    for(u8Idx=0; u8Idx&lt<span class="b3">8<span class="tooltiptext"> The loop will run 8 times, once per bit</span></span>; u8Idx++)</td>
                  </tr>
                  <tr>
                      <td>92</td>
                      <td>    {</td>
                  </tr>
                  <tr>
                      <td>93</td>
                      <td>        GPIO_PinState _pinState   =    GPIO_PIN_RESET;</td>
                  </tr>
                  <tr>
                      <td>94</td>
                      <td>        if( _u8Code & u8Mask )</td>
                  </tr>
                  <tr>
                      <td>95</td>
                      <td>        {</td>
                  </tr>
                  <tr>
                      <td>96</td>
                      <td>            _pinState             =    GPIO_PIN_SET;</td>
                  </tr>
                  <tr>
                      <td>97</td>
                      <td>        }</td>
                  </tr>
                  <tr>
                      <td>98</td>
                      <td>        <span class="b4">Generate01(_pinState)<span class="tooltiptext"> If the bit is 1 a high level on the data pin and a pulse on the clock signal are generated. If it is a 0 a low level on the data pin and a pulse on the clock signal are generated</span></span>;</td>
                  </tr>
                  <tr>
                      <td>99</td>
                      <td>        <span class="b5">u8Mask        &gt&gt=    1<span class="tooltiptext"> Shift the mask, one bit to the right, to access the next bit of <b>_u8Code</b></span></span>;</td>
                  </tr>
                  <tr>
                      <td>100</td>
                      <td>    }</td>
                  </tr>
                  <tr>
                      <td>101</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Build the project</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/10.png">
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/11.png">
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/12.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Debug the program to see the displays showing the numbers</div></li>
            </ul>
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/13.png">
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/14.png">
            <img class="img" src="../courses/04_STM32F0/Seccion03/L27_7SegClick_HAL/img/15.png">
        </div>
