        <div class="title">Serial Port (UART)</div>
        <div class="step-block">
            <ul>
               <li><div class="text">In this project you will learn a new HW component, the UART component (Universal Asynchronous Receiver/Transmitter)</div></li>
               <li><div class="text">Some years ago the personal computers had an UART and the communication with a PSoC 4 could be something like this :</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/P009_UART1.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">The basic configuration was 3 wires, one for transmission, another for reception and one common wire for ground</div></li>
               <li><div class="text">Nowadays the personal computers do not have UART but USB</div></li>
               <li><div class="text">There are USB/UART converters, that provide a virtual serial port on the PC</div></li>
               <li><div class="text">The CY8CKIT-042 kit has a PSoC5 that serves as an programming interface for the PSoC4 and additionally is a USB/UART converter</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/P009_UART2.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">This connection between PSoC5 and PSoC4 is not made on the kit, so you have to do it as follow :</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/P009_PSoC5_PSoC4.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/P009_PSoC5_PSoC4_2.png">
            <ul>
               <li><div class="text">You will write a program that sends through the serial port a text every time the PSoC 4 starts</div></li>
            </ul>
        </div>
        <div class="section">Steps</div>
        <div class="step-block">
            <ul>
               <li><div class="text">Create a new project and name it WS009</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/01.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/02.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Select empty schematic</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/03.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/04.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Go to the schematic</div></li>
               <li><div class="text">Search for the UART (SCB mode) component</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/05.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Drag the UART component to the schematic and double click on it</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/06.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Rename it as UART and select 38400 as baudrate</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/07.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Double click to open the configuration window</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/08.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/09.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/10.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Assign the PSoC 4 UART pins</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/15.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/16.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/17.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Build the project</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/18.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Go to "main.c" and add the following code :</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/19.png">
            <table class="source-code-table">
                  <tr>
                      <td>12</td>
                      <td>#include &ltproject.h&gt</td>
                  </tr>
                  <tr>
                      <td>13</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>14</td>
                      <td>int main()</td>
                  </tr>
                  <tr>
                      <td>15</td>
                      <td>{</td>
                  </tr>
                  <tr>
                      <td>16</td>
                      <td>    CyGlobalIntEnable; /* Enable global interrupts. */</td>
                  </tr>
                  <tr>
                      <td>17</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>18</td>
                      <td>    <span class="b1">UART_Start()<span class="tooltiptext"> Initializes the UART component</span></span>;</td>
                  </tr>
                  <tr>
                      <td>19</td>
                      <td>    <span class="b2">UART_UartPutString("Hello Uart \n")<span class="tooltiptext"> Send the string "Hello Uart \n" via UART</span></span>;    </td>
                  </tr>
                  <tr>
                      <td>20</td>
                      <td></td>
                  </tr>
                  <tr>
                      <td>21</td>
                      <td>    for(;;)</td>
                  </tr>
                  <tr>
                      <td>22</td>
                      <td>    {</td>
                  </tr>
                  <tr>
                      <td>23</td>
                      <td>    }</td>
                  </tr>
                  <tr>
                      <td>24</td>
                      <td>}</td>
                  </tr>
            </table>
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">As always, build the project and transfer the program</div></li>
               <li><div class="text">Now prepare the PC to receive data via ISB from the PSoC 4</div></li>
               <li><div class="text">If you have the kit connected to the PC, you can see the virtual serial port</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/20.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">The assigned serial port is COM5</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/21.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Open a program to receive from the serial port (e.g. Tera Term)</div></li>
               <li><div class="text">And configure it as COM5 and 38400 bps</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/22.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/23.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Configure also the new line character</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/25.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/26.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">And save the changes</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/17_TeraTerm_SaveSetup.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/18_TeraTerm_SaveSetup.png">
        </div>
        <div class="step-block">
            <ul>
               <li><div class="text">Every time you press the reset button, PSoC 4 will send the string to the PC</div></li>
            </ul>
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/P009_PSoC5_PSoC4_Reset.png">
            <img class="img" src="../_cursos/01_PSoC4/Seccion03/L09_Uart/img/28.png">
        </div>
        <div class="section">Downloads</div>
        <div class="step-block">
            <ul>
               <li><a target="_blank" href="../_cursos/01_PSoC4/Seccion03/L09_Uart/downloads/WS009.zip">Download the project here (PSoC Creator 3.3).</a></li>
            </ul>
        </div>
